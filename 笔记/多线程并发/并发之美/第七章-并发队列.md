### 并发队列综述

java提供了在高并发下使用的队列，可以分为两类：阻塞队列和非阻塞队列。前者使用锁实现，后者使用CAS非阻塞算法实现。

在阻塞队列中，包含ArrayBlockingQueue(数组构建的有界阻塞队列)、LinkedBlockingQueue(链表构成的有界阻塞队列)、PriorityBlockingQueue(支持优先级排序的无界阻塞队列)、DelayQueue(优先级队列实现的无界阻塞队列)。

非阻塞队列中包含，ConcurrentLinkedQueue(无界非阻塞队列)。

### ConcurrentLinkedQueue原理探究

#### ConcurrentLinkedQueue概述

ConcurrentLinkedQueue是基于链表节点实现的无界非阻塞队列。采用先进先出的规则对节点进行排序。当他添加一个元素的时候，会向队列尾部添加一个元素，获取一个元素，他会返回队列头部的元素。内部使用CAS算法实现。

#### ConcurrentLinkedQueue结构分析

ConcurrentLinkedQueue继承了ABstractQueue类，同时实现了Queue接口。

<img src="https://i.loli.net/2021/01/03/UzXZ7PGnQ4S1kvp.png" alt="image-20210103224920788" style="zoom:50%;" />

​                                类结构继承图

ConcurrentLinkedQueue内部队列使用单向链表实现，内部实现Node类来实现链表的节点，ConcurrentLinkedQueue类中，使用head、tail两个volatile类型的Node节点分别来保存队首堆尾元素。默认情况下，head节点存储元素为空，tail节点等于head。

