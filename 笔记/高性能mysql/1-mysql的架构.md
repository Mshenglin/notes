### 1.3	事务

事务就是一组原子性的sql查询。

事务的四大特征

原子性

一个事务被看成一个不可分割的操作单元。要么全部执行成功，要么全部执行失败。

一致性

数据库总是从一个一致性状态到另一个一致性状态。

隔离性

事务之间是相互隔离的。

持久性

一旦事务提交，则其所作的修改就会永久的保存在数据库中。

#### 1.3.1	数据隔离的级别

 脏读：一个事务，读取到另一个事务中没有提交的数据

 不可重复读(虚读)：在同一个事务中，两次读取到的数据不一样。

 幻读：一个事务操作(DML)数据表中所有记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改。

| 隔离级别                   | 脏读可能性 | 不可重复读可能性 | 幻读可能性 | 加锁读 |
| -------------------------- | ---------- | ---------------- | ---------- | ------ |
| read uncommitted(未提交读) | √          | √                | √          | ×      |
| read committed(提交读)     | ×          | √                | √          | ×      |
| repeatable read(可重复读)  | ×          | ×                | √          | ×      |
| seriaLizable(可串行化)     | ×          | ×                | ×          | √      |

#### 1.3.2	死锁

 两个或多个事务在同一资源上相互占用，并请求锁定对方占用的资源。

