#### 1.0 跳表概述

跳表是一种有序的数据结构。他是每个节点中维护多个指向其他节点的指针，来达到快速访问的目的。

在跳表中，查询一个元素的平均时间复杂度是O(logn),最坏是O(n).

Redis中使用跳表的场景。一、在实现有序集合键。二、集群节点中用作内部的数据结构。

#### 2.0 跳表的实现

Redis的跳表由zskiplistNode(跳跃表节点)，zskiplist(用于保存跳跃表的信息)。

#### 2.1 跳表的节点（zskiplistNode）

```c
/*
 * 跳跃表节点
 */
typedef struct zskiplistNode {

    // 成员对象
    robj *obj;

    // 分值
    double score;

    // 后退指针
    struct zskiplistNode *backward;

    // 层
    struct zskiplistLevel {

        // 前进指针
        struct zskiplistNode *forward;

        // 跨度
        unsigned int span;

    } level[];

} zskiplistNode;
```

##### 跳跃表节点中的变量作用

###### 层

​                                                                                                                                                                                                                                                                                                               

​                                                                                                                                                                                